{% extends "base.html" %}
{% block content %}
<div class="container">
  <h1 class="center-align">Manage Categories</h1> 
  <!-- Categories Card-->
  <div class="row">
    <div class="col s12 center-align">
      <a href="{{ url_for('add_category') }}" class="btn-small add-list-item">
        Add Category <i class="fas fa-plus-square right"></i>
      </a>
    </div>
  </div>
  <div class="row">
    {% for category in categories %}
      <div class="col s12 m6 is for ">
        {{ category._id }}
        <div class="card center-align">
          <div class="card-content">
            <span class="card-title text-shadow">{{ category.name }}</span>
            <p class="card-description">{{ category.description }}</p>
          </div>
          <div class="card-action">
            <a href="{{ url_for('edit_category', category_id=category._id) }}" class="btn add-list-item">Edit</a>
            <a href="#delete_category{{category._id}}" class="btn modal-trigger remove-list-item">Delete</a>
          </div>
        </div>
      </div>

  <!-- CREDIT: Modal code from materializecss customized -->  
  <!-- Modal Structure Delete confirmation -->
  <div id="delete_category{{category._id}}" class="modal modal-background">
    <div class="modal-content">
      <h4>Are you sure you want to delete this category?</h4>
      {{ category._id }}
      <p>You are going to permanently delete this category, once deleted, it cannot be returned</p>
    </div>
    <div class="modal-footer center-align">
      <button class="btn modal-close add-list-item">Cancel</button>
      <a href="{{ url_for('delete_category', category_id=category._id) }}" class="btn remove-list-item">Delete</a>
    </div>
  </div>
      {% endfor %}
    </div>
</div> 
{% endblock %}