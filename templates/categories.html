{% extends "base.html" %}
{% block content %}
<section>
<div class="container">
  <h1 class="center-align">Manage Categories</h1> 
  <!-- Categories Card-->
  <div class="row">
    <div class="col s12 center-align">
      <a href="{{ url_for('add_category') }}" class="btn-small green-btn">
        Add Category <i class="fas fa-plus-square right"></i>
      </a>
    </div>
  </div>
  <div class="row card-position-categories">
    {% for category in categories %}
      <div class="col s12 card-flex-categories">
        <div class="card center-align box-style">
          <div class="card-content card-height-categories">
            <span class="card-title text-shadow">{{ category.name }}</span>
            <p class="card-description padding-desc">{{ category.description }}</p>
          </div>
          <div class="card-action card-buttons-categories">
            <a href="{{ url_for('edit_category', category_id=category._id) }}" class="btn green-btn">Edit</a>
            <a href="#delete_category{{category._id}}" class="btn modal-trigger red-btn">Delete</a>
          </div>
        </div>
      </div>
    <!-- CREDIT: Modal code from materializecss customized -->  
    <!-- Modal Structure Delete confirmation -->
    <div id="delete_category{{category._id}}" class="modal modal-background">
      <div class="modal-content">
        <h4>Are you sure you want to delete this category?</h4>
        <p>You are going to permanently delete this category, once deleted, it cannot be returned</p>
      </div>
      <div class="modal-footer center-align">
        <a href="{{ url_for('delete_category', category_id=category._id) }}" class="btn red-btn">Delete</a>
        <button class="btn modal-close green-btn">Cancel</button>
      </div>
    </div>
    <!--end of credit-->
    {% endfor %}
  </div>
</div> 
</section>
{% endblock %}